<!DOCTYPE html>
<html th:replace="~{guest/fragments/layout :: layout (~{::body})}" lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
  <body>
    <div class="auth-container rounded">
      <h3 class="mb-3">Login</h3>

      <!-- Login Messages -->
      <div th:if="${param.badCredentials}" class="alert alert-danger" role="alert"><span>Invalid username, email or password!</span></div>
      <div th:if="${param.disabled}" class="alert alert-danger" role="alert"><span>Your account is disabled. Maybe your email address is not verified. Please check your email inbox.</span></div>
      <div th:if="${param.error}" class="alert alert-danger" role="alert"><span>Unknown error!</span></div>
      <div th:if="${param.logout}" class="alert alert-success" role="alert"><span>You have been successfully logged out.</span></div>

      <!-- Registration Messages -->
      <div th:if="${param.verificationSuccess}" class="alert alert-success" role="alert">
        <span th:text="#{registration.verification-success}">Registration confirmation successful!</span>
      </div>
      <div th:if="${param.resendVerificationTokenSuccess}" class="alert alert-success" role="alert">
        <span th:text="#{registration.resend-verification-token-success}">E-mail with verification link sent again</span>
      </div>
      <div th:if="${param.tokenNotFound}" class="alert alert-danger" role="alert">
        <span th:text="#{registration.token-not-found}">Verification token not found.</span>
      </div>
      <div th:if="${param.tokenExpired}" class="alert alert-danger" role="alert">
        <span th:text="#{registration.token-expired}">Verification token expired.</span>
        <a href="#" th:href="@{/resend-verification-token?(token=${param.token})}" th:text="#{registration.resend-verification-email}">Resend verification e-mail</a>
      </div>

      <!-- Reset password messages-->
      <div th:if="${param.resetSuccess}" class="alert alert-success" role="alert">
        <span th:text="#{forgot-password.reset-successful}">You can now log in with your new password.</span>
      </div>

      <!-- Login form -->
      <form id="loginForm" name="loginForm" action="#" th:action="@{/login}" method="POST">
        <!-- Username -->
        <div class="form-label-group">
          <input type="text" id="username" class="form-control" name="username" placeholder="#" required autofocus>
          <label for="username">Email address or username</label>
        </div>

        <!-- Password -->
        <div class="form-label-group">
          <input type="password" id="password" class="form-control" name="password" placeholder="#" required>
          <label for="password">Password</label>
        </div>

        <div class="form-label-group">
          <div class="row">
            <div class="col">
              <!-- Remember me -->
              <div class="checkbox">
                <label>
                  <input type="checkbox" id="remember-me" name="remember-me"> Remember me
                </label>
              </div>
            </div>
            <div class="col text-right">
              <!-- Forgot password -->
              <div class="form-label-group">
                <a href="#" th:href="@{forgot-password}">Forgot password?</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Login -->
        <button class="btn btn-lg btn-dark btn-block" type="submit">Login</button>
      </form>

      <p class="my-2">
        New user? <a href="#" th:href="@{/register}" th:text="#{index.register}">Join now!</a>
      </p>
    </div>
  </body>
</html>
