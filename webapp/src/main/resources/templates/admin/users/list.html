<!DOCTYPE html>
<html layout:decorate="~{admin/fragments/layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.w3.org/1999/xhtml"
      lang="en">
<head>
    <title>Users</title>
    <link th:href="@{/css/datatables.custom.css}" href="#" rel="stylesheet" />
    <link th:href="@{/webjars/datatables/css/dataTables.bootstrap4.min.css}" href="#" rel="stylesheet" type="text/css" />
    <script th:nonce="script-+${random}" th:src="@{/webjars/datatables/js/jquery.dataTables.min.js}" src="#"></script>
    <script th:nonce="script-+${random}" th:src="@{/webjars/datatables/js/dataTables.bootstrap4.min.js}" src="#"></script>
    <script th:nonce="script-+${random}" th:src="@{/js/admin/users.js}" src="#"></script>
</head>
<body>
    <section layout:fragment="content">
        <h1 class="h2 text-dark">Users</h1>

        <button type="button" class="btn btn-dark btn-sm mt-2 mb-3" id="new-admin-user-button" data-toggle="modal" data-target="#create-admin-user-dialog">
            New Administrator
        </button>

        <table id="user-table" class="table table-striped table-hover mt-3 clickable-table">
            <thead>
                <tr>
                    <th scope="col">Public Id</th>
                    <th scope="col">Username</th>
                    <th scope="col">Email</th>
                    <th scope="col">Role</th>
                    <th scope="col">Status</th>
                    <th scope="col">Last Login</th>
                    <th scope="col">Creation Date</th>
                </tr>
            </thead>
            <tbody id="user-data">
            </tbody>
        </table>

        <!-- Create Form -->
        <div id="create-admin-user-dialog" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
            <div th:replace="admin/users/create :: dialog"></div>
        </div>

        <!-- Update Form -->
        <div id="update-user-dialog" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
            <div th:replace="admin/users/update :: dialog"></div>
        </div>
    </section>
</body>
</html>
